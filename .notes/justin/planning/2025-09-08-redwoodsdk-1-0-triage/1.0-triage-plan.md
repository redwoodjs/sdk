# 1.0 Triage Plan: 2025-09-08

## Plan / Agenda

The 1.0-beta release has a short timeline, requiring a focused approach to prioritization.

The goal of this session is to triage tasks for the RedwoodSDK 1.0-beta and 1.0 releases. The primary lens for every decision is **perceived stability**: does this task affect the feeling that RedwoodSDK is stable to use in dev or production?

**Core principle**: Prioritize pragmatic, lightweight fixes that address the core of an issue to ensure timely progress.

### Triage Protocol

The triage process is designed to systematically evaluate tasks and produce a structured output for automated processing.

#### 1. Scope and Prioritization
- **Prioritization Strategy**: Only issues expected to affect a large percentage or all users will be considered for `1.0-beta` and `1.0` milestones.
- **New Features**: New feature proposals will be deferred to `future` milestones and will not be considered for `1.0-beta` or `1.0`.
- **Deferred Bugs**: Issues identified as bugs not affecting a large percentage or all users will be labeled `bug` and deferred without a milestone. They will be addressed when capacity allows.

#### 2. Input Sources
The triage process will address three types of inputs from their respective source files:
1.  **GitHub Issues**: Sourced from [`./source-gh-issues.md`](./source-gh-issues.md). These are existing issues from the repository.
2.  **User To-Do List Items**: Sourced from [`./source-todo.md`](./source-todo.md). These are shorthand tasks from the user's notes.
3.  **Missing Tasks**: These are gaps identified during the triage session itself (e.g., security checks, deploy smoke tests).

#### 3. Output and Action Plan
All triage decisions will be recorded in [`./output-issues.md`](./output-issues.md). This file serves as a manifest for updating GitHub once the triage is complete.

The file should follow this format:
*   **For existing GitHub Issues**: Record the issue number, the assigned label(s), and a 1-2 sentence triage note.
*   **For new issues**: Propose a new issue with a title, description, the assigned label(s), and a triage note.

**Action Plan for `output-issues.md`:**
Once the triage process is complete and the contents of `output-issues.md` are considered final, the following steps should be taken to update GitHub:

1.  **Update Existing Issues**: For each existing issue listed, manually apply the specified `Label`(s) on GitHub.
2.  **Create New Issues**: For each new issue, manually create a new GitHub issue using the provided `Description`. The title of the issue should be the one specified. Apply the `Label`(s).
3.  **Internal Notes**: The `Triage Notes` are for internal context only to record the rationale behind prioritization. **They must not be added to GitHub issues in any form (description or comments).**

All general decisions, observations, and key considerations that arise during the process will be continuously recorded in [`./discussion.md`](./discussion.md).

### Release Criteria

- **What "critical stability" means (1.0-beta):**
    - Dev, build, HMR, and deploy workflows cannot hang, crash, or behave unpredictably.
    - Workflows must be smooth for common usage paths (create project, add route, run migrations, deploy).
    - Errors must be clear and actionable. Obscure or misleading errors are blockers because they erode confidence.
    - 1.0-beta must feel usable day-to-day without show-stoppers.

- **What "feels stable" means (1.0):**
    - All 1.0-beta criteria.
    - No critical CVEs impacting users.
    - No known rough edges expected to affect a large percentage of users in common dev/prod workflows.
    - 1.0 should feel polished and confidence-inspiring for new users.
    - Smoke tests for critical paths passing

### Labels (Milestones)

These are both labels AND milestones - they determine when work gets done:

- **`bug`**: Identifies an issue as a defect in the code. This label is applied independently of the release milestone.
- **`1.0-beta`**: Issues critical for the beta release. The focus is on essential fixes for bugs that affect a large percentage of users.
- **`1.0`**: Issues that must be fixed for the 1.0 release but are not beta-blocking. Pragmatic solutions are prioritized for bugs that affect a large percentage of users.
- **`future`**: Exploratory, feature work, performance monitoring, and nice-to-haves that can be addressed in a future release post 1.0.
- **`experimental`**: Issues around db, unbundled deps, inline entrypoints, route HMR, CSS in RSC, Vitest, perf checks â€” not yet stable/contracted. Can break.
- **`area:error-messages`**: Classifies issues related to improving error messages, used in conjunction with milestone labels.

## Context

This section captures the initial context provided for the triage session.

### Core Challenges
- **The Chicken-and-Egg Problem:** RedwoodSDK lacks broad production usage, where unknown unknowns are typically discovered. However, users won't adopt it until it feels production-ready. We must ground our definition of "stable" in developer perception to break this cycle.

### Key User Pain Points

- **Third-Party Library Compatibility:** Users experience significant friction when using their favorite libraries, particularly component libraries like **ShadCN** and **Base UI**. Issues often arise from stylesheet inclusion and the heavy use of `"use client"` directives. Compatibility issues also surface with other libraries like **Resend**, often due to dependencies that are incompatible with React Server Components (e.g., `react-dom/server`). The general theme is that developers migrating from ecosystems like Next.js expect common libraries to work without significant hurdles.
- **SSR-related Dev Server Instability:** Errors during Server-Side Rendering (SSR) are a major source of instability. These errors can cause the dev server to hang, breaking HMR and forcing a manual restart.
- **Cryptic Error Messages:** When SSR-related crashes occur, the error output is often swallowed, resulting in blank or `undefined` errors. This provides no actionable information for debugging. More broadly, many error messages are terse and could be improved by providing suggestions and links to documentation, especially for common RSC-related issues.
- **Lack of CVE Monitoring:** There is currently no formal process for monitoring or addressing CVEs in project dependencies.

## Sources

### [From Github Issues](./source-gh-issues.md)

### [From Justin's Todos](./source-todo.md)

## Output

### [Output Issues](./output-issues.md)
