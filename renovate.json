{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended"],
  "separateMajorMinor": false,
  "vulnerabilityAlerts": {
    "enabled": false
  },
  "rangeStrategy": "bump",
  "packageRules": [
    {
      "description": "Horizontal: Critical Dependencies (Repo-wide, ASAP)",
      "groupName": "critical-deps",
      "prPriority": 10,
      "matchPackageNames": [
        "react",
        "react-dom",
        "react-server-dom-webpack",
        "@types/react",
        "@types/react-dom",
        "@cloudflare/vite-plugin",
        "@cloudflare/workers-types",
        "wrangler",
        "vite"
      ],
      "ignoreUnstable": true
    },
    {
      "description": "Vertical 1: SDK",
      "groupName": "sdk-deps",
      "matchFileNames": ["sdk/package.json", "addons/**"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"]
    },
    {
      "description": "Vertical 2: Starter",
      "groupName": "starter-deps",
      "matchFileNames": ["starter/package.json"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"]
    },
    {
      "description": "Vertical 3: Community Library",
      "groupName": "community-lib-deps",
      "matchFileNames": ["community/package.json"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"]
    },
    {
      "description": "Vertical 4: Infrastructure & Root (Tools, Versions, Docs)",
      "groupName": "infra-deps",
      "matchManagers": ["github-actions"],
      "matchFileNames": [
        "package.json",
        "docs/package.json",
        ".node-version",
        ".nvmrc",
        "docs/.node-version",
        ".tool-versions",
        "pnpm-workspace.yaml",
        "renovate.json"
      ],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"]
    },
    {
      "description": "Vertical 5: SDK Playgrounds & Examples",
      "groupName": "sdk-playground-deps",
      "matchFileNames": ["playground/**", "examples/**"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"]
    },
    {
      "description": "Vertical 6: Community Playgrounds",
      "groupName": "community-playground-deps",
      "matchFileNames": ["community/playground/**"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"]
    },
    {
      "description": "Schedule: All standard verticals on weekends",
      "matchUpdateTypes": ["patch", "minor", "major"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"],
      "schedule": ["every weekend"]
    }
  ],
  "prHeader": " chore(deps): {{{prTitle}}}",
  "prBodyNotes": "This PR updates the following dependencies:\n\n{{{table}}}",
  "automerge": false,
  "major": {
    "automerge": false
  },
  "minor": {
    "automerge": false
  },
  "patch": {
    "automerge": false
  }
}
