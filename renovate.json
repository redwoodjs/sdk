{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended"],
  "separateMajorMinor": false,
  "vulnerabilityAlerts": {
    "enabled": false
  },
  "rangeStrategy": "bump",
  "packageRules": [
    {
      "description": "Horizontal: Critical Dependencies (Repo-wide, ASAP)",
      "groupName": "critical-deps",
      "prPriority": 10,
      "matchPackageNames": [
        "react",
        "react-dom",
        "react-server-dom-webpack",
        "@types/react",
        "@types/react-dom",
        "@cloudflare/vite-plugin",
        "@cloudflare/workers-types",
        "wrangler",
        "vite"
      ],
      "ignoreUnstable": true
    },
    {
      "description": "Vertical 1: SDK",
      "groupName": "sdk-deps",
      "matchFileNames": ["sdk/package.json", "addons/**"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"],
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 2: Starter",
      "groupName": "starter-deps",
      "matchFileNames": ["starter/package.json"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"],
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 3: Community Library",
      "groupName": "community-lib-deps",
      "matchFileNames": ["community/package.json"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"],
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 4a: Infrastructure - GitHub Actions",
      "matchManagers": ["github-actions"],
      "groupName": "infra-deps",
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 4b: Infrastructure - Version Files (node, pnpm, etc)",
      "matchFileNames": [".node-version", ".nvmrc", "docs/.node-version", ".tool-versions", "pnpm-workspace.yaml", "renovate.json"],
      "groupName": "infra-deps",
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 4c: Infrastructure - Core Tools in manifests",
      "matchPackageNames": ["node", "pnpm", "typescript", "vitest", "eslint", "prettier", "@types/node", "@manypkg/cli", "renovatebot/github-action"],
      "groupName": "infra-deps",
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 5: SDK Playgrounds & Examples",
      "groupName": "sdk-playground-deps",
      "matchFileNames": ["playground/**", "examples/**"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"],
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 6: Community Playgrounds",
      "groupName": "community-playground-deps",
      "matchFileNames": ["community/playground/**"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"],
      "schedule": ["every weekend"]
    }
  ],
  "prHeader": " chore(deps): {{{prTitle}}}",
  "prBodyNotes": "This PR updates the following dependencies:\n\n{{{table}}}",
  "automerge": false,
  "major": {
    "automerge": false
  },
  "minor": {
    "automerge": false
  },
  "patch": {
    "automerge": false
  }
}
