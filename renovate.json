{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended"],
  "prConcurrentLimit": 10,
  "prHourlyLimit": 2,
  "separateMajorMinor": false,
  "vulnerabilityAlerts": {
    "enabled": false
  },
  "packageRules": [
    {
      "description": "Group 1: Peer Dependencies (React, Cloudflare, Vite) - Critical updates that impact users.",
      "groupName": "critical-deps",
      "prPriority": 1,
      "matchPackageNames": [
        "react",
        "react-dom",
        "react-server-dom-webpack",
        "@types/react",
        "@types/react-dom",
        "@cloudflare/vite-plugin",
        "@cloudflare/workers-types",
        "wrangler",
        "vite"
      ],
      "ignoreUnstable": true
    },
    {
      "description": "Group 2: Everything else - Internal tools, dev dependencies, infra, docs, etc.",
      "groupName": "regular-deps",
      "schedule": ["every weekend"],
      "matchPackageNames": ["*"],
      "excludePackageNames": [
        "react",
        "react-dom",
        "react-server-dom-webpack",
        "@cloudflare/vite-plugin",
        "@cloudflare/workers-types",
        "wrangler",
        "vite"
      ],
      "matchFileNames": ["!community/**"]
    },
    {
      "description": "Group 3: Community Library dependencies",
      "groupName": "community-lib-deps",
      "matchFileNames": ["community/package.json"],
      "matchPackageNames": ["*"],
      "schedule": ["every weekend"],
      "prBodyNotes": "NOTE: This update belongs to the Community Library group. {{{description}}}"
    },
    {
      "description": "Group 4: Community Playground dependencies",
      "groupName": "community-playground-deps",
      "matchFileNames": ["community/playground/**"],
      "matchPackageNames": ["*"],
      "schedule": ["every weekend"],
      "prBodyNotes": "NOTE: This update belongs to the Community Playground group. {{{description}}}"
    },
    {
      "description": "Specific rule for React to ensure we track the 'next' tag for canary releases, as per existing policy.",
      "matchPackageNames": ["react", "react-dom", "react-server-dom-webpack"],
      "followTag": "next"
    }
  ],
  "prHeader": " chore(deps): {{{prTitle}}}",
  "prBodyNotes": "This PR updates the following dependencies:\n\n{{{table}}}",
  "automerge": false,
  "major": {
    "automerge": false
  },
  "minor": {
    "automerge": false
  },
  "patch": {
    "automerge": false
  }
}
