{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended"],
  "separateMajorMinor": false,
  "packageRules": [
    {
      "description": "Group Cloudflare dependencies together as they are often released in tandem.",
      "matchPackageNames": ["/^@cloudflare\\//", "wrangler"],
      "groupName": "cloudflare"
    },
    {
      "description": "Group all SDK internal dependencies (non-peer) into a single weekly PR.",
      "matchPackageNames": [
        "!/^@cloudflare\\//",
        "!wrangler",
        "!vite",
        "!react",
        "!react-dom",
        "!react-server-dom-webpack"
      ],
      "groupName": "sdk-internal-dependencies",
      "schedule": ["on saturday"],
      "matchFileNames": ["sdk/package.json"]
    },
    {
      "description": "Group all starter application dependencies (non-peer) into a single weekly PR.",
      "matchPackageNames": [
        "!/^@cloudflare\\//",
        "!wrangler",
        "!vite",
        "!react",
        "!react-dom",
        "!react-server-dom-webpack"
      ],
      "groupName": "starter-app-dependencies",
      "schedule": ["on saturday"],
      "matchFileNames": ["starters/**/package.json"]
    },
    {
      "description": "Update peer dependencies in starter projects as soon as they are available.",
      "matchPackageNames": ["@cloudflare/vite-plugin", "wrangler", "vite"],
      "groupName": "starter-peer-dependencies",
      "schedule": ["every weekend"],
      "prPriority": 1,
      "matchFileNames": ["starters/**/package.json"]
    },
    {
      "description": "Group React-related packages together.",
      "matchPackageNames": ["/^react/", "/^@types\\/react/"],
      "groupName": "react"
    },
    {
      "description": "Handle security vulnerabilities ASAP.",
      "matchUpdateTypes": ["patch", "pin", "digest"],
      "matchCurrentVersion": "!/^0/",
      "automerge": true,
      "prPriority": 2
    },
    {
      "description": "Group all other dependencies (docs, root, actions) into a single weekly PR.",
      "groupName": "repository-maintenance",
      "schedule": ["on saturday"]
    }
  ],
  "prHeader": " chore(deps): {{{prTitle}}}",
  "prBodyNotes": "This PR updates the following dependencies:\n\n{{{table}}}",
  "automerge": false,
  "major": { "automerge": false },
  "minor": { "automerge": false },
  "patch": { "automerge": false }
}
