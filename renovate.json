{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended"],
  "separateMajorMinor": false,
  "vulnerabilityAlerts": {
    "enabled": false
  },
  "rangeStrategy": "bump",
  "packageRules": [
    {
      "description": "Horizontal: Critical Dependencies (Repo-wide, ASAP)",
      "groupName": "critical-deps",
      "prPriority": 10,
      "matchPackageNames": [
        "react",
        "react-dom",
        "react-server-dom-webpack",
        "@types/react",
        "@types/react-dom",
        "@cloudflare/vite-plugin",
        "@cloudflare/workers-types",
        "wrangler",
        "vite"
      ],
      "ignoreUnstable": true
    },
    {
      "description": "Vertical 1: SDK",
      "groupName": "sdk-deps",
      "matchFileNames": ["sdk/package.json"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"],
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 2: Starter",
      "groupName": "starter-deps",
      "matchFileNames": ["starter/package.json"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"],
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 3: Community Library",
      "groupName": "community-lib-deps",
      "matchFileNames": ["community/package.json"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"],
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 4: Infrastructure & Generic Tooling",
      "groupName": "infra-deps",
      "matchFileNames": ["package.json"],
      "matchPackageNames": ["typescript", "vitest", "eslint", "prettier", "@types/node"],
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 5: SDK Playgrounds",
      "groupName": "sdk-playground-deps",
      "matchFileNames": ["playground/**"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"],
      "schedule": ["every weekend"]
    },
    {
      "description": "Vertical 6: Community Playgrounds",
      "groupName": "community-playground-deps",
      "matchFileNames": ["community/playground/**"],
      "matchPackageNames": ["*"],
      "excludePackageNames": ["react", "react-dom", "react-server-dom-webpack", "@types/react", "@types/react-dom", "@cloudflare/vite-plugin", "@cloudflare/workers-types", "wrangler", "vite"],
      "schedule": ["every weekend"]
    },
    {
      "description": "Specific rule for React to ensure we track the 'next' tag for canary releases.",
      "matchPackageNames": ["react", "react-dom", "react-server-dom-webpack"],
      "followTag": "next"
    }
  ],
  "prHeader": " chore(deps): {{{prTitle}}}",
  "prBodyNotes": "This PR updates the following dependencies:\n\n{{{table}}}",
  "automerge": false,
  "major": {
    "automerge": false
  },
  "minor": {
    "automerge": false
  },
  "patch": {
    "automerge": false
  }
}
